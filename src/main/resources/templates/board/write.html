<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>KKM</title>
    <meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
    <title>Insert title here</title>
</head>
<body>
<form action='insert.do' method='post' enctype="multipart/form-data">
    <input type='text' name='title'><br/>
    <textarea rows="3" cols="20" name='boardContents'></textarea><br/>
    <button type="button" onclick="addFileInput()">파일 추가(+)</button><br/>
    <div id="fileInputs">
        <div>
            <input type="file" name="files">        </div>
    </div>
    <input type='submit' value='전송' onclick="javascript:loding()"><br/>
    <a href='board.do'>[글목록]</a>
</form>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    function addFileInput() {
        const fileInputsDiv = document.getElementById("fileInputs");
        const newFileInputDiv = document.createElement("div");
        const newFileInput = document.createElement("input");
        const removeButton = document.createElement("button");
        const br = document.createElement("br");

        newFileInput.type = "file";
        newFileInput.name = "files";
        //newFileInput.multiple = true;

        removeButton.type = "button";
        removeButton.textContent = "삭제";
        removeButton.onclick = function() {
            removeFileInput(this);
        };

        newFileInputDiv.appendChild(newFileInput);
        newFileInputDiv.appendChild(removeButton);
        newFileInputDiv.appendChild(br);
        fileInputsDiv.appendChild(newFileInputDiv);
    }

    function removeFileInput(button) {
        button.parentNode.parentNode.removeChild(button.parentNode);
    }
</script>
<div class="loader"></div>
</body>
</html>